<nav class="navbar navbar-expand-lg bg-primary">
    <div class="container">
        <fa-icon [icon]="faHome" style="font-size: 25px;"></fa-icon>
        
        <button
            class="navbar-toggler" 
            type="button" 
            data-bs-toggle="collapse" 
            data-bs-target="#navbarNavAltMarkup" 
            aria-controls="navbarNavAltMarkup" 
            aria-expanded="false" 
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a href="/home" class="nav-link active" aria-current="page">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="../../../assets/portofolio.pdf" target="_blank">Portofolio</a>
                </li>
            </ul>
        </div>
        <div class="d-flex flex-row-reverse">
            <button 
            class="btn btn-outline-dark" 
            type="button" 
            (click)="openModal()">Logout</button>
        </div>
    </div>
</nav>
<div class="container-fluid">
    <!-- <div class="alert alert-danger" role="alert" *ngIf="!isNetworkTimeout()">
        Network Timeout
      </div> -->
    <ng-container *ngIf="dataLogin != []">
        <div class="text-center p-3">
            <p class="h2" style="font-family: monospace;">Welcome {{dataLogin[0].name.first}}</p>
        </div>
    </ng-container>
    <!-- <div class="card">

    </div> -->

    <div class="text-bg-secondary p-3 rounded-2">
        <div class="d-flex p-2 ">
            <mat-form-field class="rounded-2">
                <input (keyup)="searchData($event)" matInput placeholder="search">
            </mat-form-field>
        </div>
        <table mat-table #table [dataSource]="dataSourceUsers" matSort #userTbSort="matSort" class="table table-info table-hover table-striped">
    
            <ng-container [matColumnDef]="column" *ngFor="let column of displayColumns">
                
                <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-bg-primary p-3">{{column}}</th>
    
                <ng-container *ngIf="column=='No'">
                    <td mat-cell *matCellDef="let user">{{dataSourceUsers.filteredData.indexOf(user) + 1}}</td>
                </ng-container>
    
                <ng-container *ngIf="column=='Name'">
                    <td mat-cell *matCellDef="let user">{{user.name.first}} {{user.name.last}}</td>
                </ng-container>
                
                <ng-container *ngIf="column=='Action'">
                    <td mat-cell *matCellDef="let user">
                        <button mat-raised-button 
                            color="primary"
                            [routerLink]="[dataSourceUsers.filteredData.indexOf(user)]"
                            type="button">
                            View
                        </button>
                    </td>
                </ng-container>
    
    
                <ng-container *ngIf="column!=('ID' || 'Action' || 'Name') ">
                    <td mat-cell *matCellDef="let user"> {{user[column]}}</td>
                </ng-container>
    
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayColumns;"></tr>
        </table>
    
        <mat-paginator [pageSizeOptions]="[5,10,15,20]">showFirstLastButtons</mat-paginator>
    </div>
</div>
<!-- <script>
    $document.ready(function() {
        $("#networkTimeout").modal({
            show: false,

        })
    })
</script> -->

<!--Modal Timeout-->
<div class="modal fade" id="networkTimeout" aria-hidden="false" aria-labelledby="exampleModalToggleLabel" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header text-bg-warning">
          <h1 class="modal-title fs-5" id="exampleModalToggleLabel">Warning!</h1>
        </div>
        <div class="modal-body">
          Network Timeout
        </div>
        <div class="modal-footer">
          <button class="btn btn-primary" data-bs-toggle="modal" (click)="timeOut()">Ok</button>
        </div>
      </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="modalLogout" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header" style="background-color:lightskyblue;">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Logout</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" >
          Are you want to logout?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary"  (click)="logout()" >OK</button>
        </div>
      </div>
    </div>
</div>